/* =========================================
   STYLE RIÊNG CHO TRANG GIỎ HÀNG (FULL UPDATE)
   ========================================= */

/* Layout Grid: 70% Trái - 30% Phải */
.cart-layout {
    display: grid;
    grid-template-columns: 1fr 350px;
    gap: 30px;
    align-items: start;
}

/* --- CỘT TRÁI: DANH SÁCH SP --- */
.cart-list-area {
    background: #fff;
    border: 1px solid #eee;
    border-radius: 8px;
    padding: 20px;
}

/* Header Bảng (6 Cột) */
.cart-header-row {
    display: grid;
    /* [Ảnh] [Tên] [Giá] [SL] [Tổng] [Xóa] */
    grid-template-columns: 100px 3fr 1.5fr 1.5fr 1.5fr 50px;
    padding-bottom: 15px;
    border-bottom: 1px solid #eee;
    font-weight: 700;
    color: #555;
    text-transform: uppercase;
    font-size: 13px;
    align-items: center;
}
.col-product { grid-column: 1 / 3; } 

/* Dòng Sản Phẩm */
.cart-item {
    display: grid;
    grid-template-columns: 100px 3fr 1.5fr 1.5fr 1.5fr 50px;
    align-items: center;
    padding: 20px 0;
    border-bottom: 1px solid #eee;
    position: relative;
}
.cart-item:last-child { border-bottom: none; }

/* Style Ảnh & Info */
.item-img img {
    width: 80px; height: 80px; object-fit: contain;
    border: 1px solid #eee; border-radius: 4px; display: block;
}
.item-info { padding-right: 15px; }
.item-info h3 { font-size: 15px; margin-bottom: 5px; line-height: 1.4; }
.item-info h3 a { color: #333; text-decoration: none; }
.item-info h3 a:hover { color: var(--primary-color); }
.item-info .variant { font-size: 12px; color: #888; }

/* Style Giá & Tổng */
.item-price { font-weight: 500; color: #555; }
.item-total { font-weight: 700; color: #d0021b; font-size: 15px; }

/* Nút số lượng */
.qty-control-small { display: flex; border: 1px solid #ddd; width: fit-content; border-radius: 4px; }
.qty-control-small button { width: 25px; height: 28px; border: none; background: #f9f9f9; cursor: pointer; }
.qty-control-small input { width: 35px; height: 28px; border: none; border-left: 1px solid #ddd; border-right: 1px solid #ddd; text-align: center; outline: none; font-size: 13px; }

/* Nút xóa (Màu đỏ) */
.item-remove { display: flex; justify-content: center; }
.item-remove button {
    background: none; border: none;
    color: #d0021b; font-size: 18px; cursor: pointer; transition: 0.2s;
}
.item-remove button:hover { transform: scale(1.1); }

/* Nút tiếp tục */
.cart-footer-actions { margin-top: 20px; }
.btn-continue { font-size: 14px; color: var(--primary-color); font-weight: 600; display: inline-flex; align-items: center; gap: 5px; }

/* --- STYLE CHO SẢN PHẨM QUÀ TẶNG (GIFT) --- */
.cart-item-gift {
    background-color: #eefbf3; /* Nền xanh nhạt */
    border: 1px solid #008a33; /* Viền xanh lá */
    border-radius: 8px;
    margin-top: -10px;
    margin-bottom: 20px;
    padding: 15px 10px;
    /* Grid trong Gift Item */
    display: grid;
    grid-template-columns: 100px 3fr 1.5fr 1.5fr 1.5fr 50px;
    align-items: center;
}

.item-img { position: relative; }
.gift-badge {
    position: absolute; bottom: 0; left: 0; right: 0; width: 80px; /* Khớp width ảnh */
    background: #008a33; color: white;
    font-size: 10px; font-weight: bold; text-align: center;
    padding: 2px 0; border-radius: 0 0 4px 4px;
}

.cart-item-gift .item-price .old-price { text-decoration: line-through; color: #999; font-size: 12px; display: block; }
.cart-item-gift .item-price .free-price { color: #008a33; font-weight: bold; font-size: 14px; }
.text-green { color: #008a33 !important; font-weight: bold; }

/* --- CỘT PHẢI: TỔNG TIỀN --- */
.summary-box {
    background: #f9f9f9; padding: 20px;
    border-radius: 8px; border: 1px solid #eee;
    position: sticky; top: 20px;
}
.summary-title { font-size: 18px; font-weight: 700; margin-bottom: 20px; color: #333; }
.summary-row { display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 14px; color: #555; }
.summary-divider { border-top: 1px dashed #ccc; margin: 15px 0; }
.total-row { font-size: 18px; font-weight: 700; color: #333; align-items: center; }
.total-row .final-total { color: #d0021b; font-size: 22px; }
.vat-note { font-size: 12px; color: #999; text-align: right; margin-top: -10px; margin-bottom: 20px; }

.btn-checkout {
    width: 100%; padding: 15px; background: #d0021b; color: white;
    border: none; border-radius: 4px; font-weight: bold; font-size: 16px; text-transform: uppercase;
    cursor: pointer; transition: 0.3s;
}
.btn-checkout:hover { background: #a00; }
.support-note {
    margin-top: 20px; display: flex; gap: 10px; align-items: center;
    font-size: 12px; color: #666; background: #fff; padding: 10px; border-radius: 4px; border: 1px solid #eee;
}
.support-note i { font-size: 24px; color: var(--primary-color); }

/* --- RESPONSIVE MOBILE --- */
@media (max-width: 768px) {
    .cart-layout { grid-template-columns: 1fr; gap: 20px; }
    .cart-header-row { display: none; }

    /* Card Mobile */
    .cart-item {
        display: grid;
        grid-template-columns: 80px 1fr 40px; /* Ảnh | Info | Xóa */
        grid-template-areas: 
            "img info remove"
            "img price price"
            "img qty qty"
            "img total total";
        gap: 5px 15px;
        position: relative;
        border-bottom: 1px solid #eee;
    }
    
    /* Gift Mobile */
    .cart-item-gift {
        margin-top: 0;
        border: 1px solid #008a33;
        background: #eefbf3;
        /* Gift cũng dùng grid giống item thường */
        grid-template-columns: 80px 1fr 40px;
        grid-template-areas: 
            "img info info"
            "img price price"
            "img qty total";
    }

    .item-img { grid-area: img; }
    .item-info { grid-area: info; padding-right: 0; }
    .item-price { grid-area: price; display: block; margin-top: 5px; }
    
    .item-qty { grid-area: qty; margin-top: 5px; }
    .item-total { grid-area: total; margin-top: 5px; text-align: right; }

    /* Nút xóa góc phải */
    .item-remove {
        grid-area: remove;
        justify-content: flex-end;
        align-items: flex-start;
    }
    
    /* Ẩn nút xóa ở gift item */
    .cart-item-gift .item-remove { display: none; }
}